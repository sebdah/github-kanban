<head>
  <title>GitHub Kanban</title>
</head>

<body>
  {{> main}}
</body>

<template name="main">
  {{loginButtons align="right"}}<br>
  {{#if user}}
    {{> repository}}
    {{> issues}}
  {{else}}
    {{> welcome }}
  {{/if}}
</template>

<template name="welcome">
  <h1>GitHub Kanban</h1>
  <p>
    Welcome to the GitHub Kanban app! Please log in to show your username.
  </p>
</template>

<template name="repository">
  <input type='text' id='user' readonly="readonly">/<input type='text' id='repo'>
</template>

<template name="issues">
  {{#unless listIssuesError}}
    {{#if issues}}
      <h3>Issues</h3>
      {{#each issues}}
        <p>
          <strong>#{{number}} {{title}}</strong><br />
          Status: {{state}}, {{comments}} comment(s)<br />
          Labels: {{#each labels}}{{name}} {{/each}}<br />
          Reporter: {{user.login}}
        </p>
      {{/each}}
    {{else}}
      <p>No issues</p>
    {{/if}}
  {{else}}
    <p>{{listIssuesError}}</p>
  {{/unless}}
</template>